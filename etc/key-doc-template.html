<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Key Document</title>
        <link rel="stylesheet" href="${_CSS_PATH}">
        ${_CSS_OVERRIDE}
    </head>
    <body class="markdown-body">

        <img src="${_LOGO_PATH}" alt="logo">
        <br>
        <br>
        <div class=".letter">

            <p>${_GREETING}</p>

            <p>This document contains a “private key” that can unlock files encrypted with the associated
                public key. This document is intended as a backup and <strong>must</strong> be kept in a safe place. It contains
                instructions for using the (private) key to unlock a file — these instructions are a bit technical, so it includes
                some ways to get help if needed.</p>

            <p>Know that the key <em>itself</em> is locked, so it <strong>cannot</strong> be used without the passphrase used to
                create it. ${_PASSPHRASE_LOCATION}</p>

            <p>Welcome to the modern world of digital security.</p>

            <p>If all of this has you thinking <em>"uh… what?"</em>, please see <a href="#getting-help">Getting Help</a>.</p>

            <div class="closing">${closing}</div>
            <div class="signature">${author}</div>

            <p class="break-before"></p>
            <h1 id="getting-help">Getting Help</h1>

            <p>The following are contacts that I trust and who have agreed to help if needed:</p>

            <ol>
            ${_CONTACTS_LIST}
            </ol>

            <p>If none of them are available, hopefully one of them can suggest someone else; if not, you'll have to find
                someone else…</p>

            <ul>
                <li>Try looking online for TODO</li>
            </ul>
        </div>

        <p class="break-before"></p>
        <h1 id="instructions">Instructions</h1>

        <h2>The Key</h2>

        <p>This section contains the <em>encrypted</em> <code>age</code> public key pair, in two forms: as a QR code and as raw <code>.pem</code> text.
            The text form is provided only for the highly unlikely case that the QR code does not work; while extremely tedious,
            it <em>can</em> be typed in by hand.</p>

        <p>To use the QR code, just open the camera app on your phone and point it at the image. You should see
            the same text as below (maybe just the beginning). Just copy it, send it to the computer on which you
            want to use the key and save it as a file with whatever name you like.</p>

        <img src="${_QR_CODE_PATH}" alt="QR Code">

        <pre><code>${_ARMORED_KEY}</code></pre>

        <p class="break-before"></p>

        <h2>The Prerequisites</h2>

        <p>Using the private key to decrypt a file requires the passphrase used when it was created. It is normally printed
            on the last page of this document, but it may be stored separately.</p>

        <p>You also need a command line tool that performs <a href="https://github.com/C2SP/C2SP/blob/main/age.md">age file encryption</a>:</p>

        <ul>
            <li><a href="https://github.com/str4d/rage">rage</a></li>
            <li><a href="https://github.com/FiloSottile/age">age</a></li>
        </ul>

        <p>The code used to create this document is a wrapper around <code>rage</code> and can also encrypt/decrypt files. The
            source code and instructions for it can be found <a href="todo">here</a>.</p>

        <p>There are other implementations to choose from <a href="https://github.com/FiloSottile/age">here</a>.</p>

        <h2>Decrypting A File</h2>

        <p class="break-before"></p>

        <h2>The Passphrase</h2>

        <p>Here is the passphrase used when creating the keys on page 3</p>

        <div class="passphrase-box">
            ${_PHRASE}
        </div>

        <h2>Notes</h2>

        <div class="notes">
            ${_NOTES}
        </div>

    </body>
</html>
